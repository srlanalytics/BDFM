<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Introduction to the DFM Package • bdfm</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to the DFM Package">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bdfm</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.0.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/dfm.html">Intro</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Advanced
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Bayesian Dynamic Factor Models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/srlanalytics/bdfm">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Introduction to the DFM Package</h1>
                        <h4 class="author">Seth Leonard, Christoph Sax</h4>
            
            <h4 class="date">2018-12-13</h4>
      
      
      <div class="hidden name"><code>intro.Rmd</code></div>

    </div>

    
    
<p>Bayesian dynamic factor model estimation in R.</p>
<p><a href="https://travis-ci.org/srlanalytics/bdfm"><img src="https://travis-ci.org/christophsax/tsbox.svg?branch=master" alt="Build Status"></a> <a href="https://codecov.io/github/srlanalytics/bdfm"><img src="https://codecov.io/github/srlanalytics/bdfm/branch/master/graphs/badge.svg" alt="codecov"></a></p>
<div id="description" class="section level2">
<h2 class="hasAnchor">
<a href="#description" class="anchor"></a>Description</h2>
<p>bdfm estimates dynamic factor models by simulation using the Durbin and Koopman (2012) disturbance smoother and returns estimated factors, predicted values of observables, posterior distributions for predicted values (optional), and forecast updates by series (optional). Maximum likelihood estimation via Watson and Engle (1983) is also supported. Input data may be noisy, have missing values, or “ragged edges” due to different start or end dates.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<pre class="t"><code><a href="http://www.rdocumentation.org/packages/remotes/topics/install_github">remotes::install_github("srlanalytics/bdfm")</a></code></pre>
</div>
<div id="basic-use" class="section level2">
<h2 class="hasAnchor">
<a href="#basic-use" class="anchor"></a>Basic Use</h2>
<p>Estimate a model with two factors and two lags in the transition equation</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"><span class="kw">library</span>(bdfm)</a>
<a class="sourceLine" id="cb2-2" title="2">Est &lt;-<span class="st"> </span><span class="kw">bdfm</span>(<span class="dt">Y =</span> Data, <span class="dt">factors =</span> <span class="dv">2</span>, <span class="dt">lags =</span> <span class="dv">2</span>)</a></code></pre></div>
<p>Input data is any data type that can be coverted by <code>as.matrix()</code> and should index time in rows and series in columns. If the library <a href="https://github.com/christophsax/tsbox">tsbox</a> is present time seires attributes of input data are preserved for any <code>ts_boxable()</code> data format. In this case data need not be entered in tabular format for types such as <code>data.table</code> or <code>data.frame</code>.</p>
<p>Quick time series plot estimated factors</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw">ts.plot</span>(Est<span class="op">$</span>factors)</a></code></pre></div>
<p>Quick time series plot of fitted values (including forecasts and nowcasts) for first series in input data</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1"><span class="kw">ts.plot</span>(Est<span class="op">$</span>values[,<span class="dv">1</span>])</a></code></pre></div>
</div>
<div id="full-input" class="section level2">
<h2 class="hasAnchor">
<a href="#full-input" class="anchor"></a>Full Input</h2>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" title="1">Est &lt;-<span class="st"> </span><span class="kw">bdfm</span>(Y, <span class="dt">factors =</span> <span class="dv">1</span>, <span class="dt">lags =</span> <span class="dv">2</span>, <span class="dt">forecast =</span> <span class="dv">0</span>, <span class="dt">B_prior =</span> <span class="ot">NULL</span>, <span class="dt">lam_B =</span> <span class="dv">0</span>, <span class="dt">H_prior =</span> <span class="ot">NULL</span>, <span class="dt">lam_H =</span> <span class="dv">0</span>, <span class="dt">nu_q =</span> <span class="dv">0</span>, <span class="dt">nu_r =</span> <span class="ot">NULL</span>, <span class="dt">ID =</span> <span class="st">'PC_full'</span>, <span class="dt">intercept =</span> <span class="ot">TRUE</span>, <span class="dt">reps =</span> <span class="dv">1000</span>, <span class="dt">burn =</span> <span class="dv">500</span>)</a></code></pre></div>
<p><code>Y</code> Input data</p>
<p><code>factors</code> Number of factors</p>
<p><code>lags</code> Number of lags in transition equation</p>
<p><code>forecast</code> Number of periods ahead to forecast</p>
<p><code>B_prior</code> Prior on transtion equation (default is to shrink values towards zero)</p>
<p><code>lam_B</code> Prior tightness on transition equation</p>
<p><code>H_prior</code> Prior on loadings/observation equation (default is zero)</p>
<p><code>lam_H</code> Prior tightness on loadings, scalar</p>
<p><code>nu_q</code> Prior “degrees of freedom” for transition equation (i.e. shrink covariance of shocks towards zero), scalar</p>
<p><code>nu_r</code> Prior “degrees of freedom” for observation equation (i.e. shrink covariance of shocks towards zero), vector with elements equaling number of observed series</p>
<p><code>ID</code> Model identification technique. ‘PC_full’ identifies on principal components using all series. ‘PC-sub’ identifies on principal components using a subset of the data that maximizes the number of observations when many observations are missing.</p>
<p><code>intercept</code> T/F estimate intercept term</p>
<p><code>reps</code> Number of MCMC draws</p>
</div>
<div id="full-output" class="section level2">
<h2 class="hasAnchor">
<a href="#full-output" class="anchor"></a>Full Output</h2>
<p><code>B</code> Estimated transition matrix (posterior median)</p>
<p><code>q</code> Estimated covariance of shocks to transition equation (posterior median)</p>
<p><code>H</code> Estimated loadings (posterior median)</p>
<p><code>R</code> Estimated covariance of shocks to observation equation (poserior median, diagonal matrix)</p>
<p><code>itc</code> Intercept terms for observables</p>
<p><code>values</code> Fitted (smoothed) values for observables (including nowcasts and forecasts)</p>
<p><code>factors</code> Estimated factors (posterior median)</p>
<p><code>Bstore</code> Full posterior distribution for <code>B</code></p>
<p><code>Qstore</code> Full posterior distribution for <code>Q</code></p>
<p><code>Hstore</code> Full posterior distribution for <code>H</code></p>
<p><code>Rstore</code> Full posterior distribution for <code>R</code></p>
<p><code>UDstore</code> Forecast updates (prediction error times gain) at each period</p>
</div>
<div id="estimation-details" class="section level2">
<h2 class="hasAnchor">
<a href="#estimation-details" class="anchor"></a>Estimation Details</h2>
<p>You can find details on estimation routines and derivations in the short book <em>Practical Implementation of Factor Models</em>. <a href="http://srlquantitative.com">Free Download</a></p>
</div>
<div id="examples" class="section level2">
<h2 class="hasAnchor">
<a href="#examples" class="anchor"></a>Examples</h2>
<p>Examples scripts are included in the <a href="https://github.com/srlanalytics/bdfm/tree/master/inst/Examples">Examples</a> file of this repository including code to run your own live nowcasts of US industrial production using the <a href="https://fred.stlouisfed.org/">Fred</a> API:</p>
<p><img src="https://github.com/srlanalytics/bdfm/blob/master/img/US_IP.png"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#description">Description</a></li>
      <li><a href="#installation">Installation</a></li>
      <li><a href="#basic-use">Basic Use</a></li>
      <li><a href="#full-input">Full Input</a></li>
      <li><a href="#full-output">Full Output</a></li>
      <li><a href="#estimation-details">Estimation Details</a></li>
      <li><a href="#examples">Examples</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Seth Leonard, Christoph Sax.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
